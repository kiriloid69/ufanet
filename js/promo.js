$((function(){$(".placeholder__input").keyup((function(){$(this).val().length?$(this).prev("span.placeholder__text").hide(100):$(this).prev("span.placeholder__text").show(100),$("#order-name").val().trim()&&$("#order-address").val().trim()&&$("#order-phone").val().trim()?$("[id ^= btn-order]").removeAttr("disabled"):$("[id ^= btn-order]").attr("disabled","disabled")})),$(".placeholder__input, span.placeholder__text").click((function(){$(this).next().focus()})),$(".tooltip-toggle").tooltip({trigger:"hover",html:!0}).click((function(e){e.preventDefault()})),$("button.button_feedback").click((function(){$("div.modal_feedback").find("div.title").text("Хотите подключиться к Интернету от Уфанет? Оставьте заявку и наши менеджеры вам перезвонят!")})),$("#nameFeedback, #phoneFeedback").keyup((function(){""!==$("#nameFeedback").val()&&""!==$("#phoneFeedback").val()?$("button.button_send").attr("disabled",!1):$("button.button_send").attr("disabled",!0)})),$("#phoneFeedback").keyup((function(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")})),$("button.button_send").click((function(){ym(66113986,"reachGoal","obrzv");var e=$(this).closest("form"),t=[];$("div.modal button.button_send").attr("disabled",!0),$("div.modal__dialog div.tariff-services__item").each((function(){t.push($(this).find(".tariff-services__item__label").text()+": "+$(this).find(".tariff-services__item__price").text())})),t.length?(t.push(routerName),$("input[name=comment]").val(t)):$("input[name=comment]").val("Заявка на обратный звонок"),$.ajax({type:"POST",url:"/order-connect/",data:e.serialize(),success:function(){$("div.modal div.title").text("Ваша заявка принята!").append("<p>Наши менеджеры позвонят Вам в ближайшее время и уточнят детали подключения.</p>")},error:function(){$("div.modal div.title").text("Произошла ошибка :(").append("<p>Пожалуйста, попробуйте ещё раз или обратитесь к нам по телефону!</p>")},complete:function(){e.hide(),e[0].reset(),$("div.list-options").hide(),$("div.modal div.title").text("Ваша заявка принята!").append("<p>Наши менеджеры позвонят Вам в ближайшее время и уточнят детали подключения.</p>")}})})),$("button.button_connect").click((function(){var e=$("#listServices").contents().clone(),t=$("div.modal_order");$("div.list-options").html(e),t.find("div.title").text("Введите свои данные и нажмите кнопку отправить. Наши менеджеры вам перезвонят!"),t.find("form, div.list-options").show(),t.addClass("modal_open")})),document.querySelectorAll("#order-phone").forEach((function(e){new Cleave(e,{phone:!0,phoneRegionCode:"RU"})})),$("[id ^= btn-order]").click((function(){$(this).attr("disabled","disabled");var e=$(this).closest(".modal"),t=e.prop("id"),o=$("#"+t+"-finish"),i=$(this).closest("form"),n=$("[data-target = '#"+t+"']");i.children("#order-service").val(n.data("service"));var d=i.serialize()+"&js=true";$.ajax({type:"POST",url:i.data("action"),data:d,success:function(t){e.modal("hide");var n=t.process_id;null!=n&&(o.find("#order-process").show(),$("#order-process").append("Номер вашей заявки: "+n)),o.find("#order-error").hide(),o.modal("show"),i[0].reset(),gtag("event","conversion",{send_to:"AW-940231554/6R4mCJCN8pgBEIKXq8AD"})},error:function(){e.modal("hide"),o.find("#order-success").hide(),o.find("#order-error").show(),o.modal("show")}})})),$("button.button_close").click((function(){$("div.modal").removeClass("modal_open")})),$(document).click((function(e){$(e.target).closest("button.button_city").length||$(e.target).closest("button.button_feedback").length||(0===$(e.target).closest("div.modal__dialog").length&&$("div.modal").removeClass("modal_open"),$(e.target).hasClass("tooltip-toggle")||0!==$(e.target).parents(".tooltip.in").length||$("div.tooltip").tooltip("hide"))}))}));